{% extends 'layout.html' %}
{% block content %}
<div class="hero">
    <img class="hero-img" src="/static/images/Tottenham-Hotspur-Stadium.webp" alt="Tottenham Hotspur Stadium">
    <h1 class="hero-text">Explore Europe's Greatest Stadiums</h1> <!-- hero image -->
</div>

<div class="header">
    <a href="/"><img src="/static/images/Logo.png" alt="logo" class="logo"></a>
    <div class="search">
        <div class="search-icon material-symbols-outlined">search</div>
        <input type="text" class="search-input" placeholder="Search" id="searchbar"/> <!-- Search bar -->
    </div>
</div>

<div class="three-card-grid">
    <p id="no-results" style="display: none;">No stadiums found</p>
    {% for f in stadiums %}
    <a href="/football/{{f[0]}}" class="stadium-card-text">
        <div class="stadium-card" data-name="{{f[1]}}">
            <img src="/static/images/cards/{{f[1]}}.png" alt="no image">
            <p>{{f[1]}}</p> <!-- Displays image and name as a button to stadiums page. -->
        </div>
    </a>
    {% endfor %}
</div>

<div class="footer">
    Explore the world's most iconic football stadiums
</div>

<script> // Searchbar java script
document.addEventListener('DOMContentLoaded', function () {
    const searchbar = document.getElementById('searchbar')
    const stadiumLinks = document.querySelectorAll('.stadium-card-text') // Get the search input from its ID
    const noResults = document.getElementById('no-results')

    searchbar.addEventListener('input', function () {
        const search_input = this.value.toLowerCase()
        let anyVisible = false

        stadiumLinks.forEach(link => { // Loop each stadium to check if the name matchs the search
            const stadiumName = link.querySelector('.stadium-card').getAttribute('data-name').toLowerCase()
            if (stadiumName.includes(search_input)) {
                link.style.display = '' // Hiding the card if it doesn't match the search
                anyVisible = true
            } else {
                link.style.display = 'none'; // Removes it from grid
            }
        });

        noResults.style.display = anyVisible ? 'none' : 'block'; // Shows whether or not to display 'No stadiums found'
    });
});
</script>
{% endblock %}